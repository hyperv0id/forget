# The Forget - 项目开发路线图

**项目名称**: The Forget (杀戮尖塔角色模组)
**Slogan**: Forget for Get (遗忘是为了获得)
**当前版本**: v0.06 (设计白皮书)
**创建日期**: 2026-01-12

---

## 项目概述

The Forget 是一个基于《杀戮尖塔》(Slay the Spire) 的角色模组，灵感来源于《明日方舟》岁系列角色"望"。

**核心概念**：
> "卡牌是记忆，战斗是落子；你必须在'赢下当下'与'写坏自己'之间不断权衡。"

**玩家身份**：第181枚神识碎片（黑子）——望为了屠神而切分出的自我碎片

**核心机制**：
- **三资源系统**：【自我】(HP)、【名望】(跨战斗持久，可正可负)、【好感度】(隐藏，按对象结算)
- **模仿体系**：模仿兄弟姐妹的权能作为主要强度来源
- **权谋循环**：在“运营（高/正名望）”与“爆发（极低名望）”之间切换，并通过 `0 ~ -3` 的缓冲/透支区给玩家喘息窗口，迫使玩家在三条账本间权衡

---

## 当前状态

### 设计文档状态
- ✅ v0.01 → v0.06 设计迭代完成
- ✅ 核心机制定义清晰（三资源、模仿牌、权谋循环）
- ✅ 多结局设计完成（搞笑/温情/屠神三类）
- ✅ 技术实现清单已定义（design-v0.05.1 第七章，v0.06 更新名望分段口径）

### 开发状态
- 🟡 设计阶段完成，技术实现已启动（基础骨架 + 单测已落地）

---

## 短期目标 (1-3个月)

### Phase 1：核心系统 MVP

**目标**：建立可玩的最小核心循环

#### 1.1 技术基础搭建 (Week 1-2)
- [ ] ModLoader 选择与集成（推荐 BaseMod）
- [ ] 角色基础框架搭建（Character、CardPool、RelicPool）
- [ ] 构建系统配置（Gradle、依赖管理）

#### 1.2 三资源系统实现 (Week 3-4)
- [ ] **【自我】系统**：HP 叙事化（直接使用现有 HP 系统）
- [ ] **【名望】系统**：
  - 分段区间（不封顶，默认平衡锚点为 `[-6, +6]`）：高名望（+4 起）、正名望（+1~+3）、负名望（0~-3 缓冲/透支区）、极低（≤ -4）
  - 跨战斗持久化存储（RunState/Save）
  - 名望 +1 及以上：污染清理交互（ActionManager/UI）；高名望（+4 起）清理自动/免费
  - 名望 0~-3：不可清理污染；好感度获取效率减半；无额外战斗副作用（喘息区）
  - 名望 ≤ -4：不可清理污染；好感度获取停止；模仿牌额外耗血 + 增伤（爆发区）
- [ ] **【好感度】系统**：
  - `Map<CharacterEnum, int>` 存储（仅对本局选择对象生效）
  - 行为触发监听（技能/格挡/击杀等事件）
  - 名望正负对好感度结算的效率影响

#### 1.3 开局选择系统 (Week 4-5)
- [ ] 开局选择 3 个对象的 UI 实现
- [ ] 本局卡池限定为所选 3 个对象
- [ ] 对象图标展示与 Hover Tip 提示

#### 1.4 核心卡牌实现 (Week 5-8)
- [ ] **初始卡组**（15张）：包含模仿、权谋、基础攻击/防御
- [ ] **【模仿】牌体系**：
  - 动态卡面（根据好感度区间切换 img path）
  - 不稳定/反噬机制（低好感度触发）
  - 名望 ≤ -4 时额外耗血（Lose HP）+ 增伤
- [ ] **【权谋】牌体系**：推拉名望、制造窗口
- [ ] **【污染】牌**：战斗内垃圾牌，可用名望清理
- [ ] **【落子】牌**：终结技，长期代价

#### 1.5 初始遗物 (Week 8-9)
- [ ] 3 个初始遗物实现
- [ ] 包含引导性描述，帮助玩家理解三资源系统

#### 1.6 技术债务与质量
- [ ] 单元测试覆盖核心资源系统
- [ ] 存档系统验证（Save & Quit 不丢失）
- [ ] 基础性能测试（无内存泄漏）

---

## 中期目标 (3-6个月)

### Phase 2：内容填充与平衡

**目标**：丰富卡池，形成可构筑的流派

#### 2.1 卡池扩展 (Month 4-5)
- [ ] **完整卡池**：75+ 张卡牌
  - 模仿牌：每个对象至少 5 张
  - 权谋牌：至少 15 张，形成完整循环
  - 落子牌：至少 5 张禁忌级终结技
  - 污染牌：至少 10 种不同类型
- [ ] 卡牌平衡性初步调优

#### 2.2 遗物系统 (Month 5)
- [ ] **20+ 遗物**：
  - 常见遗物：强化三资源互动
  - 稀有遗物：改变核心循环
  - 特殊遗物：支持特定流派

#### 2.3 随机事件 (Month 5-6)
- [ ] **15+ 事件**：
  - 名望/好感度相关事件
  - 对象专属事件
  - 多分支结局预演

#### 2.4 三层 Boss 适配 (Month 6)
- [ ] Act 1 Boss：简单战斗，展示核心机制
- [ ] Act 2 Boss：中度压力，测试资源管理
- [ ] Act 3 Boss：高强度，检验构筑完整性

---

## 长期愿景 (6个月以上)

### Phase 3：Act 4 与终局

**目标**：完成叙事闭环与终极挑战

#### 3.1 Act 4 实现
- [ ] **【望 - 空壳】三阶段战斗**
  - 强度受 `累计反噬次数` 影响
  - 三道审判：体面、关系、自我
- [ ] **融合判定系统**：通过/失败分支

#### 3.2 最终 Boss
- [ ] **【岁 - 诸相非相】** 终极战斗
- [ ] 神技系统：多阶段形态转换
- [ ] 使用名望/好感度作为"落子"权能的代价

#### 3.3 结局系统实现
- [ ] **搞笑结局**：
  - 【泡影】- 持有特殊遗物并在休息处睡觉
  - 【大炎棋圣】- 单回合伤害 > 420
  - 【胖天半子】- 污染牌 > 20 且从未清理
- [ ] **温情结局**（基于最高好感度对象）：
  - 【大梦当觉】- 令
  - 【棋字相依】- 颉
  - 【日月同辉】- 朔
- [ ] **屠神结局**（基于名望与反噬次数）：
  - 【高处不胜寒】- 高名望、低好感度
  - 【名……望？】- 名望临界爆发
  - 【人间】- 名望归零、放弃神力

---

### Phase 4：打磨与优化

**目标**：提升美术、音效与整体体验

#### 4.1 UI/UX 美术资源
- [ ] **P0 优先**：
  - 三资源图标（自我/名望/好感度）
  - 基础卡牌模板（模仿/权谋/落子/污染四类边框）
- [ ] **P1 优先**：
  - 角色主视觉/战斗立绘
  - 核心卡牌美术（模仿牌、高稀有度权谋牌）
  - 负名望污渍/遮罩效果
- [ ] **P2-P3 优先**：
  - 全套卡牌美术
  - 主要事件插画
  - 遗物图标
  - 多结局过场 CG

#### 4.2 音效与配乐
- [ ] 打出【模仿】牌时对应角色的标志性音效
- [ ] 进入 Act 4 的棋盘落子声 → 心跳声渐变
- [ ] 岁战开始的压迫感音效
- [ ] 名望正负切换的环境音变化

#### 4.3 平衡性调整
- [ ] 数值调优系统（可配置参数集）
- [ ] 胜率分段统计
- [ ] 污染密度、名望/亲情分布、模仿使用率等指标监控
- [ ] 可视化调试工具（可选）

#### 4.4 隐藏内容与彩蛋
- [ ] 隐藏结局触发条件
- [ ] Meta 致敬内容
- [ ] 角色语音系统

---

## 技术架构建议

### ModLoader 选择
- **推荐**: BaseMod（社区最成熟，API 完整）
- **备选**: ModTheSpire（更底层，更多自由度）

### 核心技术栈
```
Java 8+ (兼容 StS 原版)
libGDX (StS 原版引擎)
BaseMod / ModTheSpire API
```

### 关键技术实现点

#### ResourceManager
- 双向名望轴存储
- 跨战斗持久化（RunState/Save）

#### AffinityManager
- `Map<CharacterEnum, int>` 存储
- 行为触发监听系统
- 效率折损系数（名望为负时）

#### CardBase
- 动态 `applyPowers()` / `calculateCardDamage()`
- 动态 Description 更新
- 卡面 img path 动态切换

#### ActionManager
- 名望清理污染交互
- 模仿 HP Cost（名望 < 0）
- 不稳定/反噬结算

---

## 美术资源开发优先级

### P0 - 核心功能原型 (立即)
- [ ] 三资源图标（简洁可辨识的黑白稿）
- [ ] 基础卡牌模板（四类卡牌边框/角标）

### P1 - 核心体验完善 (1-3个月)
- [ ] 角色主视觉/战斗立绘
- [ ] 核心卡牌美术（模仿牌、高稀有度权谋牌）
- [ ] 负名望污渍/遮罩效果

### P2 - 内容扩展 (3-6个月)
- [ ] 全套卡牌美术
- [ ] 主要事件插画
- [ ] 遗物图标

### P3 - 长期打磨 (发布前)
- [ ] 动态卡面特效
- [ ] 多结局过场 CG
- [ ] UI 整体视觉风格统一

---

## 风险与挑战

### 技术风险
| 风险 | 影响 | 缓解策略 |
|:---|:---|:---|
| 跨战斗持久化存档冲突 | 高 | 充分测试 Save & Quit，参考现有 Mod 实现 |
| 动态卡面性能开销 | 中 | 图片预加载、缓存优化 |
| 好感度隐藏系统反馈不足 | 高 | UI Tooltip 完善、视觉反馈强化 |

### 设计风险
| 风险 | 影响 | 缓解策略 |
|:---|:---|:---|
| 认知负荷过高（三资源） | 高 | 渐进式引导、Tooltip everywhere |
| 模仿牌随机性过强 | 中 | 开局选 3 对象（已实现） |
| 平衡性调参复杂度 | 中 | 可配置参数集、监控指标 |

---

## 里程碑时间线

```
Month 1-2:  ████████░░░░░░░░░░░░░░░░░░  Phase 1 核心系统 MVP
Month 3-4:  ███████████████░░░░░░░░░░░  Phase 2 内容填充
Month 5-6:  ███████████████████████░░░░  Phase 3 Act 4 与终局
Month 6+:   ████████████████████████████  Phase 4 打磨与优化
```

---

## 附录

### 参考资料与灵感来源
- 《明日方舟》岁系列剧情：望、令、年、夕、重岳等角色设定
- 《杀戮尖塔》核心机制：卡牌、遗物、事件、Boss 设计
- 《王权》(Reigns) 系列：四向平衡条的博弈设计
- 围棋概念：天元、落子、弃子、胜天半子

### 联系与协作
- 设计白皮书：见 `design-v0.05.1.md`
- 结局文档：见 `结局.md`
- 角色参考：见 `docs/char_*.md`

---

**路线图版本**: v1.0
**最后更新**: 2026-01-12
*"要分胜负的，始终是我与我。" —— 望*
